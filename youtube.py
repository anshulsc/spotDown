
# doc = [{'song': 'To Build A Home', 'video_id': 'qkP6Tf79UrM', 'url': 'https://www.youtube.com/watch?v=qkP6Tf79UrM'},
#        {'song': 'Anchor', 'video_id': 'mtp72RnFaRU', 'url': 'https://www.youtube.com/watch?v=mtp72RnFaRU'}, 
#        {'song': 'Flightless Bird, American Mouth', 'video_id': 'RGVmhrfQqzg', 'url': 'https://www.youtube.com/watch?v=RGVmhrfQqzg'}, 
#        {'song': 'The Night We Met', 'video_id': 'wGF7PswOENQ', 'url': 'https://www.youtube.com/watch?v=wGF7PswOENQ'},
#        {'song': "Where's My Love - Acoustic", 'video_id': 'Az8J93srFAI', 'url': 'https://www.youtube.com/watch?v=Az8J93srFAI'}, 
#        {'song': 'Older', 'video_id': 'r1Fx0tqK5Z4', 'url': 'https://www.youtube.com/watch?v=r1Fx0tqK5Z4'}, 
#        {'song': 'Up, Up & Away', 'video_id': 'BPNTC7uZYrI', 'url': 'https://www.youtube.com/watch?v=BPNTC7uZYrI'}, 
#        {'song': 'Don\'t Give Up On Me - (From "Five Feet Apart")', 'video_id': 'chcR0N5hh6c', 'url': 'https://www.youtube.com/watch?v=chcR0N5hh6c'},
#        {'song': 'Always Remember Us This Way', 'video_id': 'p1godKRBeZc', 'url': 'https://www.youtube.com/watch?v=p1godKRBeZc'}, 
#        {'song': 'I See the Light - From "Tangled" / Soundtrack Version', 'video_id': '2BOX4W00UrE', 'url': 'https://www.youtube.com/watch?v=2BOX4W00UrE'}, 
#        {'song': 'All I Want', 'video_id': 'qsq7v3YBKUs', 'url': 'https://www.youtube.com/watch?v=qsq7v3YBKUs'}, 
#        {'song': 'Dancing With Your Ghost', 'video_id': 'Qzc_aX8c8g4', 'url': 'https://www.youtube.com/watch?v=Qzc_aX8c8g4'}, 
#        {'song': 'Turning Page', 'video_id': 'Y16wQKZUpvQ', 'url': 'https://www.youtube.com/watch?v=Y16wQKZUpvQ'}, 
#        {'song': 'Fidelity', 'video_id': 'blrnWm3tnAc', 'url': 'https://www.youtube.com/watch?v=blrnWm3tnAc'}, 
#        {'song': 'Favourite Ex', 'video_id': 'TbjLHBHTqS4', 'url': 'https://www.youtube.com/watch?v=TbjLHBHTqS4'},
#        {'song': 'Tee Shirt - Soundtrack Version', 'video_id': 'oM60hSMqIkI', 'url': 'https://www.youtube.com/watch?v=oM60hSMqIkI'}, {'song': 'Anxiety (with Selena Gomez)', 'video_id': '8kCIVzdHciY', 'url': 'https://www.youtube.com/watch?v=8kCIVzdHciY'}, {'song': "always, i'll care", 'video_id': 'N6SQ9QoSjCI', 'url': 'https://www.youtube.com/watch?v=N6SQ9QoSjCI'}, {'song': 'comethru', 'video_id': 'jO2viLEW-1A', 'url': 'https://www.youtube.com/watch?v=jO2viLEW-1A'}, {'song': 'Audition (The Fools Who Dream) - Studio Version', 'video_id': 'RB9c86evBOQ', 'url': 'https://www.youtube.com/watch?v=RB9c86evBOQ'}, {'song': 'Another Day Of Sun', 'video_id': 'lV5XmoWC8Mo', 'url': 'https://www.youtube.com/watch?v=lV5XmoWC8Mo'}, {'song': 'I Get to Love You', 'video_id': 'wMgzldfzVjQ', 'url': 'https://www.youtube.com/watch?v=wMgzldfzVjQ'}, {'song': 'Flashlight - From "Pitch Perfect 2" Soundtrack', 'video_id': 'Te0pxD8q_s0', 'url': 'https://www.youtube.com/watch?v=Te0pxD8q_s0'}, {'song': 'Matter To You', 'video_id': 'yMI2jsbLw2Y', 'url': 'https://www.youtube.com/watch?v=yMI2jsbLw2Y'}, {'song': "Here's Your Perfect", 'video_id': '77AByXC_02s', 'url': 'https://www.youtube.com/watch?v=77AByXC_02s'}, {'song': 'Break My Heart Again', 'video_id': 'iS7gY_vdAn8', 'url': 'https://www.youtube.com/watch?v=iS7gY_vdAn8'}, {'song': 'Grow as We Go', 'video_id': 'Dhna6YQEvz8', 'url': 'https://www.youtube.com/watch?v=Dhna6YQEvz8'}, {'song': 'Falling', 'video_id': 'dSDehTfGYK4', 'url': 'https://www.youtube.com/watch?v=dSDehTfGYK4'}, {'song': 'If the World Was Ending (feat. Julia Michaels)', 'video_id': 'zb_IOQhHvsE', 'url': 'https://www.youtube.com/watch?v=zb_IOQhHvsE'}, {'song': 'this is how you fall in love', 'video_id': 'rqoUo1sPtPk', 'url': 'https://www.youtube.com/watch?v=rqoUo1sPtPk'}, {'song': 'I Shall Believe', 'video_id': '1v9AhF0waak', 'url': 'https://www.youtube.com/watch?v=1v9AhF0waak'}, {'song': 'The Story Never Ends', 'video_id': 'qjXZiQWZkvE', 'url': 'https://www.youtube.com/watch?v=qjXZiQWZkvE'}, {'song': 'Two', 'video_id': 'PrDzd4ufypE', 'url': 'https://www.youtube.com/watch?v=PrDzd4ufypE'}, {'song': 'Say Something', 'video_id': '5wZhzlN9llU', 'url': 'https://www.youtube.com/watch?v=5wZhzlN9llU'}, {'song': 'Back To You - From 13 Reasons Why â€“ Season 2 Soundtrack', 'video_id': 'ulNswX3If6U', 'url': 'https://www.youtube.com/watch?v=ulNswX3If6U'}, {'song': 'When I Was Your Man', 'video_id': 'vkNEc-eCsHY', 'url': 'https://www.youtube.com/watch?v=vkNEc-eCsHY'}, {'song': 'Only You', 'video_id': 'D7OVZ-CgMwM', 'url': 'https://www.youtube.com/watch?v=D7OVZ-CgMwM'}, {'song': 'Saturn', 'video_id': 'h3lWwMHFhnA', 'url': 'https://www.youtube.com/watch?v=h3lWwMHFhnA'}, {'song': 'Only You (Orchestral Mix) ( 2018 - Remaster)', 'video_id': 'zuVH2rCXKOE', 'url': 'https://www.youtube.com/watch?v=zuVH2rCXKOE'}, {'song': 'Life in a Northern Town', 'video_id': 'GsIRt0bge1Y', 'url': 'https://www.youtube.com/watch?v=GsIRt0bge1Y'}, {'song': 'Back To December', 'video_id': 'qc2Z-OX9wnc', 'url': 'https://www.youtube.com/watch?v=qc2Z-OX9wnc'}, {'song': 'Electric Love', 'video_id': '7JYb9RIQxx4', 'url': 'https://www.youtube.com/watch?v=7JYb9RIQxx4'}, {'song': 'Save Your Tears (with Ariana Grande) (Remix)', 'video_id': 'LIIDh-qI9oI', 'url': 'https://www.youtube.com/watch?v=LIIDh-qI9oI'}, {'song': 'State Lines', 'video_id': 'sk9GRKibaNA', 'url': 'https://www.youtube.com/watch?v=sk9GRKibaNA'}, {'song': 'Kiss from a Rose', 'video_id': 'yivLt9cTaio', 'url': 'https://www.youtube.com/watch?v=yivLt9cTaio'}, {'song': 'The Fault in Our Stars', 'video_id': 'ZwqycoUXUb0', 'url': 'https://www.youtube.com/watch?v=ZwqycoUXUb0'}, {'song': 'Unworthy of Your Love (feat. Zoey Deutch)', 'video_id': 'hrJz_jtXTJE', 'url': 'https://www.youtube.com/watch?v=hrJz_jtXTJE'}, {'song': 'Vienna', 'video_id': '7M3rr70O_7o', 'url': 'https://www.youtube.com/watch?v=7M3rr70O_7o'}, {'song': 'Your Song', 'video_id': 'Y1gYc1F-BeA', 'url': 'https://www.youtube.com/watch?v=Y1gYc1F-BeA'}, {'song': 'Too Sad To Cry', 'video_id': 'lZgMDIT41PE', 'url': 'https://www.youtube.com/watch?v=lZgMDIT41PE'}, 
#        {'song': "Nothing's Gonna Stop Us Now", 'video_id': 'NMxFvOXMNAw', 'url': 'https://www.youtube.com/watch?v=NMxFvOXMNAw'}]


import subprocess
from concurrent.futures import ThreadPoolExecutor
import multiprocessing
from playlist import songs

def download_video(video_id):
    subprocess.run(['youtube-dl', f'https://www.youtube.com/watch?v={video_id}', '--extract-audio', '-x', '--audio-format', 'mp3', '--audio-quality', '0', '-o', f'songs/%(title)s.%(ext)s'])

def download_yt(songs):
    video_ids = [songs[i]['video_id'] for i in range(len(songs))]
    with multiprocessing.Pool(5) as p :
        p.map(download_video,video_ids)
    print("Downloaded__")




if __name__ == "__main__":
    download_yt(songs)


    